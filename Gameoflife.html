  <!doctype html>
	<html lang="en">
	<html>
	<body>
	<canvas id="a" width=400 style="border: 5px solid #FF0066"height=300></canvas>
	<script type="text/javascript">
	/*************************************************************************/
	var c = new Array(8);
	var a = new Array(8);
	var r=8;
	var e=400;
	var f=300;
	var g = 10;
	var h = 10;
	var z=0;
	var a_canvas = document.getElementById("a");
	var a_context = a_canvas.getContext("2d");
	a_context.fillStyle="#000000";
	a_context.fillRect(0,0,400,300);
	for(var i=0;i<8;i+=1){
	a[i]=new Array();
	}
	/****************************************************************************/
	function fun(){
	a_context.fillStyle="rgb(0,255,0)";
	function rand(){
	
	for(var j =0; j<8; j+=1)
	{
	for(var q= 0; q<8; q+=1 ){
	a[j][q] = parseInt(Math.random()*2);
	}
	}
	return a;
	}
	/*****************************************************************************/
	function current1(y){
	for(var j =0; j<8; j+=1)
	{
	var m = 0;
	for(var q= 0; q<8; q+=1 ){
	if(y[j][q]==1){
	m+=1}
	if(m==2 && c[j]==1){c[j]=1;}
	else if(m==3){c[j]=1;}
	else{c[j]=0;}
	}}
	return c;
	}
	/*****************************************************************************/
	function up_date(s,q){
	q.shift();
	q.push(s);
	r-=1;
	return q;
	}
	/*****************************************************************************/
	
	function can1(s){
	for(i=0;i<8;i+=1){
	if(s[i]==1){can(i)};
	if(s[i]==0){con(i)};
	}
	}
	/*****************************************************************************/
	function can(i){
	if( e<0){e=400}
	if( f<0){f=300}
	if (i == 0 ){
	f = f-10;
	e=e-10;
	a_context.fillRect(e,f,g,h);
	color(e,f,g,h);
	}
	if(i == 1 ){
	f= f-10;
	a_context.fillRect(e,f,g,h);
	color(e,f,g,h);
	}
	if(i == 2){
	e=e+10 ;
	f = f-10;
	a_context.fillRect(e,f,g,h)
	color(e,f,g,h);
	}
	if(i==3 ){
	e=e-10;
	a_context.fillRect(e,f,g,h)
	color(e,f,g,h);
	}
	if( i == 4){
	e=e+10;
	a_context.fillRect(e,f,g,h)
	color(e,f,g,h);
	}
	if(i == 5){
	e=e-10;
	f=f+10;
	a_context.fillRect(e,f,g,h)
	color(e,f,g,h);
	}
	if( i==6){
	f=f+10;
	a_context.fillRect(e,f,g,h)
	color(e,f,g,h);
	}
	if( i==7){
	e=e+10;
	f=f+10;
	a_context.fillRect(e,f,g,h)
	color(e,f,g,h);
	}
	}
	/***************************************************************************************/
	function con(i){
	if(e>700 || e<0){e=400}
	if(f>700 || f<0){f=300}
	if (i == 0 ){
	a_context.fillRect(e,f,g,h);
	color1(e,f,g,h);
	}
	if(i == 1 ){
	a_context.fillRect(e,f,g,h);
	color1(e,f,g,h);
	}
	if(i == 2){
	a_context.fillRect(e,f,g,h)
	color1(e,f,g,h);
	}
	if(i==3 ){
	a_context.fillRect(e,f,g,h)
	color1(e,f,g,h);
	}
	if( i == 4){
	a_context.fillRect(e,f,g,h)
	color1(e,f,g,h);
	}
	if(i == 5){
	a_context.fillRect(e,f,g,h)
	color1(e,f,g,h);
	}
	if( i==6){
	a_context.fillRect(e,f,g,h)
	color1(e,f,g,h);
	}
	if( i==7){
	a_context.fillRect(e,f,g,h)
	color1(e,f,g,h);
	}
	}
	/*******************************************************************/
	function color(e,f,g,h){
	var imgData=a_context.getImageData(e,f,g,h);
	for (var i=0;i<imgData.data.length;i+=4)
	  {
	  imgData.data[i]=250-imgData.data[i];
	  imgData.data[i+1]=250-imgData.data[i+1];
	  imgData.data[i+2]=250-imgData.data[i+2];
	  imgData.data[i+3]=250;
	  }
	a_context.putImageData(imgData,e,f);
	}
	/*******************************************************************/
	function color1(e,f,g,h){
	var imgData=a_context.getImageData(e,f,g,h);
	if(imgData.data[0]==255 && imgData.data[1]==0 && imgData.data[2]==255){
	for (var i=0;i<imgData.data.length;i+=4)
	  {
	  imgData.data[i]=250-imgData.data[i];
	  imgData.data[i+1]=250-imgData.data[i+1];
	  imgData.data[i+2]=250-imgData.data[i+2];
	  imgData.data[i+3]=250;
	  }
	a_context.putImageData(imgData,e,f);
	}}
	/*****************************************************************************/
	function loop(){
	q= rand();
	s = current1(q);
	t = up_date(s,q);
	can1(s);
	}
	tick = setInterval(loop,10);
	}
	function clr(){
	stop();
	a_context.clearRect(0,0,400,300);
	a_context.fillStyle="#000000";
	a_context.fillRect(0,0,400,300);
	}
	
	function funny(){
	if (z==0){
	fun();
	z+=1;
	}
	}
	function stop(){
	if (z==1){
	clearInterval(tick);
	z-=1;}
	
	}
	</script>
	<form> 
	<input type="button" value="Click" onclick="funny()">
	<input type="button" value="Stop" onclick="stop()">
	<input type="button" value="Clear" onclick="clr()">
	</form>
	</body>
	</html>