<!doctype html>
<html lang="en">
<html>
<body>
<canvas id="a" width=1000 height=1000></canvas>
<script type="text/javascript">
/**********************************************************/
var e=300;
var f=300;
var g = 5;
var h = 5;
var c = new Array(8);
var a = new Array(8);
var b = new Array(8);
var r = 0;
for(var i=0;i<8;i+=1){
if(i==0 || i==4 || i==7 || i==4 ){
c[i]=1
}
else{
c[i]=0
}
}
/*************************************************/
function rand(){
for(var i=0;i<8;i+=1){
a[i]=new Array();
b[i]=new Array();
}

for(var j =0; j<8; j+=1)
{
for(var q= 0; q<8; q+=1 ){
a[j][q] = parseInt(Math.random()*2);
b[j][q] = 0;
}
}
console.log("Original");
console.log(a);
}
/*************************************************/
function inver(){
for(var j =0; j<8; j+=1)
{
for(var q= 0; q<8; q+=1 ){
var temp = b[j][q];
b[j][q] = a[q][j];
a[q][j] = temp; 
}}
console.log("inverse functn--b");
console.log(b);
}
/*****************************************************/
function rever(){
for(var j =0; j<8; j+=1)
{
for(var q= 0; q<8; q+=1 ){
var temp = b[j][q];
b[j][q] = a[q][j];
a[q][j] = temp;
}}
console.log("reverse--a");
console.log(a);
}
/********************************************************/
function current1(){
r+=1;
for(var j =0; j<8; j+=1)
{
var m = 0;
for(var q= 0; q<8; q+=1 ){
if(a[j][q]==1){
m+=1}
if(m==2 && c[j]==1){c[j]=1;}
else if(m==3){c[j]=1;}
else{c[j]=0;}
}}
console.log("Current1-c");
console.log(c);
console.log("Current1-r");
console.log(r);
}
/*************************************************************/
function current2(){
r+=1;
for(var j =0; j<8; j+=1)
{
var m = 0;
for(var q= 0; q<8; q+=1 ){
if(b[j][q]==1){
m+=1}
if(m==2 && c[j]==1){c[j]=1;}
else if(m==3){c[j]=1;}
else{c[j]=0;}
}}
console.log("Current2-c");
console.log(c);
console.log("Current2-r");
console.log(r);
}
/****************************************************************/
var a_canvas = document.getElementById("a");
var a_context = a_canvas.getContext("2d");
a_context.fillStyle= 'rgb(255,0,0)';
function can1(){
for(i=0;i<8;i+=1){
if(c[i]==1){can(i)};
if(c[i]==0){con(i)};
}
}
/*************************************************************************/
function can(i){
if(e>700 || e<0){e=250}
if(f>700 || f<0){f=250}
if(r>=300){
r=0}
if (i == 7 ){
f = f+(r*1);
a_context.fillRect(e,f,g,h);
color(e,f,g,h);
}
if(i == 4 ){
f= f-(r*1);
e=e+(r*1) ;
a_context.fillRect(e,f,g,h);
color(e,f,g,h);
}
if(i == 2){
e=e+(r*1) ;
f = f+(r*1);
a_context.fillRect(e,f,g,h)
color(e,f,g,h);
}
if(i==6 ){
e=e-(r*1);
f = f+(r*1);
a_context.fillRect(e,f,g,h)
color(e,f,g,h);
}
if( i == 5){
f=f-(r*1);
a_context.fillRect(e,f,g,h)
color(e,f,g,h);
}
if(i == 3){
e=e+(r*1);
a_context.fillRect(e,f,g,h)
color(e,f,g,h);
}
if( i==1){
e=e-(r*1);
f=f-(r*1);
a_context.fillRect(e,f,g,h)
color(e,f,g,h);
}
if( i==0){
e=e-(r*1);
a_context.fillRect(e,f,g,h)
color(e,f,g,h);
}
}
/***************************************************************************************/
function con(i){
if(e>700 || e<0){e=250}
if(f>700 || f<0){f=250}
if(r>=300){
r=0}
if (i ==7 ){
f = f+(r*1);
e= e+(r*1);
a_context.fillRect(e,f,g,h);
color1(e,f,g,h);
}
if(i == 4 ){
f= f-(r*1);
a_context.fillRect(e,f,g,h);
color1(e,f,g,h);
}
if(i == 2){
e=e+(r*1) ;
f=f+(r*1);
a_context.fillRect(e,f,g,h)
color1(e,f,g,h);
}
if(i==6 ){
e=e-(r*1);
a_context.fillRect(e,f,g,h)
color1(e,f,g,h);
}
if( i == 5){
f=f-(r*1);
a_context.fillRect(e,f,g,h)
color1(e,f,g,h);
}
if(i == 3){
e=e+(r*1);
a_context.fillRect(e,f,g,h)
color1(e,f,g,h);
}
if( i==1){
e=e-(r*1);
a_context.fillRect(e,f,g,h)
color1(e,f,g,h);
}
if( i==0){
e=e-(r*1);
a_context.fillRect(e,f,g,h)
color1(e,f,g,h);
}
}
/*******************************************************************/
function color(e,f,g,h){
var imgData=a_context.getImageData(e,f,g,h);
for (var i=0;i<imgData.data.length;i+=4)
  {
  imgData.data[i]=250-imgData.data[i];
  imgData.data[i+1]=250-imgData.data[i+1];
  imgData.data[i+2]=250-imgData.data[i+2];
  imgData.data[i+3]=250;
  }
a_context.putImageData(imgData,e,f);
}
/*******************************************************************/
function color1(e,f,g,h){
var imgData=a_context.getImageData(e,f,1,1);
if(imgData.data[0]==0 && imgData.data[1]==255 && imgData.data[2]==255){
for (var i=0;i<imgData.data.length;i+=4)
  {
  imgData.data[i]=250-imgData.data[i];
  imgData.data[i+1]=250-imgData.data[i+1];
  imgData.data[i+2]=250-imgData.data[i+2];
  imgData.data[i+3]=250;
  }
a_context.putImageData(imgData,e,f);
}}
/*******************************************************************/
var z=0;
function loop(){
rand();
if (z == 0){
current1();
can1();
inver();
z=z+1;
}
if(z == 1){
current2();
can1();
rever();
z=z-1;
}
}
setInterval(loop,10);
</script>
</body>
</html>
